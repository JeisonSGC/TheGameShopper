<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="Description" content="Este sitio web podras comprar videojuegos a muy buenos precios"/>
  <meta name="Author" content="Jeison Gonzalez"/>
  <meta name="keyword" content="Compra de videojuegos, Comprar, Diversion, Juegos, Videojuegos, entretencion"/>
  <title>TheGameShopper-Videojuego</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ" crossorigin="anonymous">
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/slick-carousel/1.8.1/slick.css"/>
  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/slick-carousel/1.8.1/slick.min.js"></script>
  <link rel="stylesheet" href="estilosv4.css">
</head>
<body>
  <nav class="navbar navbar-expand-md">
    <div class="container-fluid">
      <a class="navbar-brand" href="../index.html">
        <img src="../Imagenes/Logo.png" alt="logo de la tienda">
        <span class="A">TheGameShopper</span>
      </a>
      <button class="navbar-toggler" type="button"
       data-bs-toggle="collapse"
        data-bs-target="#menu"
         aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>

      <div class="collapse navbar-collapse" id="menu">
        <ul class="navbar-nav ms-auto">
          <li class="navbar-item">
            <a class="nav-link" href="../mis-compras.html">Mis compras</a>
          </li>
          <li class="navbar-item">
            <a class="nav-link" href="../categoria.html">Categorias</a>
          </li>
          <li class="navbar-item">
            <a class="nav-link" href="../sobre-nosotros.html">Sobre Nosotros</a>
          </li>
        </ul>
      </div>
    </div>          
  </nav><br>

  <div class="row">
    <div class="col-md-6" id="IMG">
      <img src="imagenes/alan-wake-remastered.jpg" class="MIG">
    </div>

    <div class="col-md-6" id="IMG">
      <h2 class="c1" id="nombreVideojuego">Cargando...</h2>
      <p id="Des1">Una versión mejorada del juego original de 2010. La historia Sigue a Alan Wake, un escritor que viaja al pueblo de Bright Falls
          para recuperar su inspiración, pero se encuentra con una oscuridad que posee a las personas y los objetos. Para combatir a los enemigos,
          Alan debe usar la luz de su linterna y diversas armas de fuego. El juego tiene un formato episódico que emula a las series de televisión
          y está inspirado en obras de Stephen King, David Lynch y Twin Peaks2.</p>
      <p id="Des1">Precio: $17.500.</p>
      <p id="plataformaVideojuego">Cargando...</p>
      <p id="generoVideojuego">Género: Shooter, Adventure, Action, Mitery</p>
      <p id="fechaLanzamientoVideojuego">Cargando...</p>
      <p id="clasificacionVideojuego">Cargando...</p>
      <p id="tagVideojuego">Cargando...</p>
    </div>
  </div>

  <div class="col-md-6" id="IM">
    <button class="Boton" id="comprarBtn">Comprar</button>
  </div><br>

  
  <div class="modal fade" id="paymentModal" tabindex="-1" aria-labelledby="paymentModalLabel" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="paymentModalLabel">Seleccionar método de pago</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          <button class="btn btn-primary" id="creditoBtn">Crédito</button>
          <button class="btn btn-secondary" id="debitoBtn">Débito</button>

          <form id="creditoForm" class="mt-3" style="display: none;">
            <div class="mb-3">
              <label for="creditoNumero" class="form-label">Número de Tarjeta de Crédito</label>
              <input type="text" class="form-control" id="creditoNumero" pattern="\d{16}" title="Debe contener 16 dígitos">
            </div>
            <div class="mb-3">
              <label for="creditoFecha" class="form-label">Fecha de Vencimiento</label>
              <input type="text" class="form-control" id="creditoFecha" pattern="\d{2}/\d{2}" title="Formato MM/AA">
            </div>
            <div class="mb-3">
              <label for="creditoCVV" class="form-label">CVV</label>
              <input type="text" class="form-control" id="creditoCVV" pattern="\d{3}" title="Debe contener 3 dígitos">
            </div>
            <button type="button" class="btn btn-success" id="creditoContinuar">Continuar</button>
          </form>

          <form id="debitoForm" class="mt-3" style="display: none;">
            <div class="mb-3">
              <label for="debitoNumero" class="form-label">Número de Tarjeta de Débito</label>
              <input type="text" class="form-control" id="debitoNumero" pattern="\d{16}" title="Debe contener 16 dígitos">
            </div>
            <div class="mb-3">
              <label for="debitoFecha" class="form-label">Fecha de Vencimiento</label>
              <input type="text" class="form-control" id="debitoFecha" pattern="\d{2}/\d{2}" title="Formato MM/AA">
            </div>
            <div class="mb-3">
              <label for="debitoCVV" class="form-label">CVV</label>
              <input type="text" class="form-control" id="debitoCVV" pattern="\d{3}" title="Debe contener 3 dígitos">
            </div>
            <button type="button" class="btn btn-success" id="debitoContinuar">Continuar</button>
          </form>
        </div>
      </div>
    </div>
  </div>

  <div class="container-fluid" id="footer">
    <div class="row p-5" id="K">
      <div class="col-xs-12 col-md-6 col-lg-3" id="PreLogo">
        <h4 class="c1">TheGameShopper</h4>
        <img src="../Imagenes/Logo.png" alt="Logo de representacion">
      </div>
      <div class="col-xs-12 col-md-6 col-lg-3">
        <h4 class="c1">Sobre Nosotros</h4>
        <p class="c1">Somos una humilde tienda que busca vender videojuegos a un muy buen precio</p>
      </div>
      <div class="col-xs-12 col-md-6 col-lg-3">
        <h4 class="c1">Síguenos</h4>
        <a href="#" class="text-decoration-none" id="Fb"> Facebook</a> <br>
        <a href="#" class="text-decoration-none" id="Ig"> Instagram</a> <br>
        <a href="#" class="text-decoration-none" id="Yt"> YouTube</a>
      </div>
      <div class="col-xs-12 col-md-6 col-lg-3">
        <small class="c2">&copy; 2023 <b class="c2">TheGameShopper</b> -Todos los Derechos Reservados</small>
    </div>
    </div>
  </div>
  
  <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js" integrity="sha384-oBqDVmMz4fnFO9gybBogGzFb6B4IoT1A1lWtiYyZRXlDw9Lbx0dI6gvH/2C8+K" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.min.js" integrity="sha384-QY6lzKOZL2OXV7kIMpIJO8X2atfLz9X+/5Q6A4/5SY2zD3rxMusKPmf4vsS4EQp6" crossorigin="anonymous"></script>
  
  <script>
    $(document).ready(function () {
      const videojuego = {
        nombre: "Alan Wake Remastered",
        precio: 17500,
        plataforma: "PC, PS4, PS5, Xbox One, Xbox Series X/S",
        fechaLanzamiento: "5 de octubre de 2021",
        clasificacion: "Mature",
        genero: "Shooter, Adventure, Action, Mystery",
        tag: "Remastered, Singleplayer"
      };

      $("#nombreVideojuego").text(videojuego.nombre);
      $("#plataformaVideojuego").text("Plataforma: " + videojuego.plataforma);
      $("#fechaLanzamientoVideojuego").text("Fecha de Lanzamiento: " + videojuego.fechaLanzamiento);
      $("#clasificacionVideojuego").text("Clasificación: " + videojuego.clasificacion);
      $("#tagVideojuego").text("Tags: " + videojuego.tag);

    
      $("#comprarBtn").click(function () {
        
        $("#paymentModal").modal('show');
      });

      
      $("#creditoBtn").click(function () {
        $("#creditoForm").show();
        $("#debitoForm").hide();
      });

      $("#debitoBtn").click(function () {
        $("#debitoForm").show();
        $("#creditoForm").hide();
      });

      
      $("#creditoContinuar").click(function () {
        
        const numeroTarjeta = $("#creditoNumero").val();
        
        if (numeroTarjeta.length === 16) {
          procesarCompra();
        } else {
          alert("Por favor, ingresa un número de tarjeta de crédito válido.");
        }
      });

      
      $("#debitoContinuar").click(function () {
        
        const numeroTarjeta = $("#debitoNumero").val();
        
        if (numeroTarjeta.length === 16) {
          procesarCompra();
        } else {
          alert("Por favor, ingresa un número de tarjeta de débito válido.");
        }
      });

      function procesarCompra() {
        
        const usuarioActual = JSON.parse(localStorage.getItem("usuarioActual"));

        if (usuarioActual) {
          
          const compra = {
            videojuego: videojuego.nombre,
            precio: videojuego.precio,
            fecha: new Date().toLocaleDateString()
          };

         
          let compras = JSON.parse(localStorage.getItem("compras")) || {};

          
          if (compras[usuarioActual.email]) {
            compras[usuarioActual.email].push(compra);
          } else {
            
            compras[usuarioActual.email] = [compra];
          }

          
          localStorage.setItem("compras", JSON.stringify(compras));

          alert("¡Compra realizada con éxito!");

          
          $("#paymentModal").modal('hide');
        } else {
          alert("Por favor, inicia sesión para realizar una compra.");
        }
      }
    });
  </script>
</body>
</html>

